(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ac3dc2c"],{"4ccf":function(e,t,n){"use strict";n("89fb")},"89fb":function(e,t,n){},a55b:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["H"])("data-v-54706876");Object(r["t"])("data-v-54706876");var a={class:"login nonborderbox"},c={class:"form-box"},s=Object(r["h"])("h1",{class:"form-title"},"Login",-1),u=Object(r["h"])("input",{type:"submit",name:"",value:"Login"},null,-1),i={class:"login-link"},l=Object(r["g"])("Or "),d=Object(r["g"])("click here "),b=Object(r["g"])(" to sign up!"),p={key:0,class:"alert alert-danger",role:"alert"};Object(r["r"])();var m=o((function(e,t,n,m,h,O){var f=Object(r["x"])("router-link");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["h"])("div",c,[Object(r["h"])("form",{onSubmit:t[3]||(t[3]=Object(r["G"])((function(){return O.submitForm&&O.submitForm.apply(O,arguments)}),["prevent"]))},[s,Object(r["F"])(Object(r["h"])("input",{type:"text",name:"/",placeholder:"Username","onUpdate:modelValue":t[1]||(t[1]=function(e){return h.username=e})},null,512),[[r["C"],h.username]]),Object(r["F"])(Object(r["h"])("input",{type:"password",name:"",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return h.password=e})},null,512),[[r["C"],h.password]]),u],32),Object(r["h"])("p",i,[l,Object(r["h"])(f,{to:"/sign-up"},{default:o((function(){return[d]})),_:1}),b])]),h.errors.length?(Object(r["q"])(),Object(r["d"])("div",p,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(h.errors,(function(e){return Object(r["q"])(),Object(r["d"])("p",{key:e},Object(r["z"])(e),1)})),128))])):Object(r["e"])("",!0)])})),h=n("1da1"),O=(n("96cf"),n("bc3a")),f=n.n(O),j={name:"Login",data:function(){return{username:"",password:"",errors:[]}},mounted:function(){document.title="Login | The Loop"},methods:{submitForm:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return f.a.defaults.headers.common["Authorization"]="",localStorage.removeItem("token"),n={username:e.username,password:e.password},console.log(n),t.next=6,f.a.post("auth/token/login/",n).then((function(t){var n=t.data.auth_token;e.$store.commit("setToken",n),f.a.defaults.headers.common["Authorization"]="Token "+n,localStorage.setItem("token",n);var r=e.$route.query.to||"/cart";e.$router.push(r)})).catch((function(t){if(t.response)for(var n in t.response.data)e.errors.push("".concat(t.response.data[n]));else e.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t))}));case 6:case"end":return t.stop()}}),t)})))()}}};n("4ccf");j.render=m,j.__scopeId="data-v-54706876";t["default"]=j}}]);
//# sourceMappingURL=chunk-3ac3dc2c.47b6abdf.js.map